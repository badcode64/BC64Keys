üîê BC64Keys Notarization Script
================================

üî® Building app...
üßπ Cleaning old builds...
üî® Building BC64Keys...
  - Building for ARM64 (Apple Silicon)...
  - Building for x86_64 (Intel)...
  - Creating Universal Binary...
‚úÖ Compilation successful!
üì¶ Creating app bundle...
‚úÖ App icon added
‚úÖ App bundle created!
üîè Signing app...
BC64Keys.app: replacing existing signature
‚úÖ App signed successfully!
Identifier=com.bc64.BC64Keys
Signature=adhoc
TeamIdentifier=not set

‚úÖ BUILD COMPLETE!
üì± App location: BC64Keys.app
üöÄ Run with: open BC64Keys.app

‚ö†Ô∏è  IMPORTANT: Grant Accessibility permissions!
   System Settings > Privacy & Security > Accessibility
   Add: BC64Keys (this app)

üîè Signing with Developer ID...
BC64Keys.app: replacing existing signature

‚úÖ Verifying signature...
BC64Keys.app: valid on disk
BC64Keys.app: satisfies its Designated Requirement
(Note: App is signed but not yet notarized - will notarize now)

üì¶ Creating notarization zip...
  adding: BC64Keys.app/ (stored 0%)
  adding: BC64Keys.app/Contents/ (stored 0%)
  adding: BC64Keys.app/Contents/_CodeSignature/ (stored 0%)
  adding: BC64Keys.app/Contents/_CodeSignature/CodeResources (deflated 75%)
  adding: BC64Keys.app/Contents/MacOS/ (stored 0%)
  adding: BC64Keys.app/Contents/MacOS/BC64Keys (deflated 78%)
  adding: BC64Keys.app/Contents/Resources/ (stored 0%)
  adding: BC64Keys.app/Contents/Resources/AppIcon.icns (deflated 0%)
  adding: BC64Keys.app/Contents/Info.plist (deflated 60%)
  adding: BC64Keys.app/Contents/PkgInfo (stored 0%)

üì§ Submitting to Apple for notarization...
[1;33mThis may take 5-10 minutes...[0m
Conducting pre-submission checks for BC64Keys-notarize.zip and initiating connection to the Apple notary service...
Submission ID received
  id: 236d5af6-b1be-4257-8a0d-8687483cce2f
Successfully uploaded file
  id: 236d5af6-b1be-4257-8a0d-8687483cce2f
  path: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys-notarize.zip
Waiting for processing to complete.
Current status: In Progress...Current status: In Progress....Current status: In Progress.....Current status: In Progress......Current status: Accepted.......Processing complete
  id: 236d5af6-b1be-4257-8a0d-8687483cce2f
  status: Accepted


üìé Stapling notarization ticket...
Processing: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys.app
Processing: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys.app
The staple and validate action worked!

‚úÖ Verifying notarization...
BC64Keys.app: accepted
source=Notarized Developer ID
origin=Developer ID Application: Zolt√°n Varga (6V83R77Q59)

üì¶ Creating release files...
  adding: BC64Keys.app/ (stored 0%)
  adding: BC64Keys.app/Contents/ (stored 0%)
  adding: BC64Keys.app/Contents/CodeResources (deflated 31%)
  adding: BC64Keys.app/Contents/_CodeSignature/ (stored 0%)
  adding: BC64Keys.app/Contents/_CodeSignature/CodeResources (deflated 75%)
  adding: BC64Keys.app/Contents/MacOS/ (stored 0%)
  adding: BC64Keys.app/Contents/MacOS/BC64Keys (deflated 78%)
  adding: BC64Keys.app/Contents/Resources/ (stored 0%)
  adding: BC64Keys.app/Contents/Resources/AppIcon.icns (deflated 0%)
  adding: BC64Keys.app/Contents/Info.plist (deflated 60%)
  adding: BC64Keys.app/Contents/PkgInfo (stored 0%)
  ‚úÖ Created: BC64Keys-v1.2.0-notarized.zip

üì¶ Creating DMG installer...
üì¶ Creating DMG installer for BC64Keys v1.2.0...
  - Copying app...
  - Creating Applications symlink...
  - Building DMG...
created: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys-v1.2.0.dmg
  - Signing DMG with Developer ID...

‚úÖ DMG created successfully!

üìÅ File: BC64Keys-v1.2.0.dmg
üìä Size: 3.4M

üéâ Ready for distribution!
   Users can drag BC64Keys.app to Applications folder

üì§ Submitting DMG to Apple for notarization...
[1;33mThis may take 5-10 minutes...[0m
Conducting pre-submission checks for BC64Keys-v1.2.0.dmg and initiating connection to the Apple notary service...
Submission ID received
  id: c7e6bb74-b23c-4373-8c10-0e8a6314148a
Successfully uploaded file
  id: c7e6bb74-b23c-4373-8c10-0e8a6314148a
  path: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys-v1.2.0.dmg
Waiting for processing to complete.
Current status: In Progress...Current status: In Progress....Current status: In Progress.....Current status: In Progress......Current status: In Progress.......Current status: In Progress........Current status: In Progress.........Current status: Accepted..........Processing complete
  id: c7e6bb74-b23c-4373-8c10-0e8a6314148a
  status: Accepted


üìé Stapling notarization ticket to DMG...
Processing: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys-v1.2.0.dmg
Processing: /Volumes/MUNKA/MUNKA/MACAPPS/BC64Keys/BC64Keys-v1.2.0.dmg
The staple and validate action worked!

‚úÖ Verifying DMG notarization...
BC64Keys-v1.2.0.dmg: accepted
source=Notarized Developer ID
origin=Developer ID Application: Zolt√°n Varga (6V83R77Q59)

[0;32m‚úÖ NOTARIZATION COMPLETE![0m

üìÅ Release files:
   - BC64Keys-v1.2.0-notarized.zip (for quick download)
   - BC64Keys-v1.2.0.dmg (professional installer)

üéâ Both files are now:
   - Signed with Developer ID
   - Notarized by Apple
   - Ready for distribution
   - No right-click required for users!

[1;33m‚ö†Ô∏è  SECURITY REMINDER:[0m
   - Never commit credentials to git!
   - Store APPLE_PASSWORD securely
   - Use app-specific passwords only
